import requests
import os

# Define the URL of the firmware file on GitHub
firmware_url = "https://github.com/itwizardo/DCS-932L/archive/main.zip"

# Download the firmware file
response = requests.get(firmware_url)
if response.status_code == 200:
    with open("DCS-932L-main.zip", "wb") as file:
        file.write(response.content)
    print("Firmware downloaded successfully.")
else:
    print("Failed to download firmware.")

# Unzip the firmware file
os.system("unzip DCS-932L-main.zip")

# Parse the configuration file to find the default username and password
with open("DCS-932L-main/etc_ro/Wireless/RT2860AP/RT2860_default_novlan", "r") as file:
    lines = file.readlines()
    for line in lines:
        if line.startswith("Login="):
            username = line.split("=")[1].strip()
        elif line.startswith("Password="):
            password = line.split("=")[1].strip()

# Save the default username and password in a text file
with open("novieind.txt", "w") as file:
    file.write("Default Username: " + username + "\n")
    file.write("Default Password: " + password + "\n")

print("Username and password saved to novieind.txt")
